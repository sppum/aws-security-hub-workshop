{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Overview This workshop is designed to get you familiar with AWS Security Hub so that you can better understand how you would use it in your own AWS environment(s). This workshop is broken into two sections. The first section will guide you through a demonstration of the features and functions of Security Hub. The second section will show you how to use Security Hub to import findings from different data sources, analyze findings so you can prioritize response work, and implement responses to findings to help improve your security posture. Level : Intermediate Duration : 2 - 3 hours CSF Functions : Detect, Respond CAF Components : Detective, Responsive Prerequisites : AWS Account, Admin IAM User Scenario Your company is new to the cloud and is steadily migrating workloads into your cloud environment. To detect security events you are using a mix of 3rd party services, custom scripts, and AWS services. As a security analyst you are responsible for establishing a solution that will give visibility into security findings related to your AWS environment so that you can properly prioritize and respond to findings. Architecture For this workshop there will be multiple pieces of infrastructure and AWS services deployed in order to faciliate creation of security findings in Security Hub. Multiple EC2 instances will be launched to faciliate the generation of findings from GuardDuty & Inspector. Additionally these instances will be used to help with demonstration of integration of custom findings into Security Hub. Multiple AWS services will be configured in the workshop to help faciliate the generation of Security Hub findings. These services include: * Security Hub * GuardDuty * Secrets Manager * Inspector * Config Presentation deck Security Hub Workshop Presentation Region Please use eu-north-1, ap-south-1, eu-west-2, eu-west-1, ap-northeast-2, ap-northeast-1, ap-southeast-2, eu-central-1, us-east-1, us-east-2, us-west-1, or us-west-2. Modules This workshop is broken up into setup and then four modules: Initial Environment Setup Security Hub Walk Through Custom Insights and Custom Findings Remediation and Response Custom Action Enrichment and Integration Contributing Your contributions are always welcome! Please have a look at the contribution guidelines first. :tada: (Back to top) License Summary The documentation is made available under the Creative Commons Attribution-ShareAlike 4.0 International License. See the LICENSE file. The sample code within this documentation is made available under the MIT-0 license. See the LICENSE-SAMPLECODE file. (Back to top)","title":"Overview"},{"location":"#overview","text":"This workshop is designed to get you familiar with AWS Security Hub so that you can better understand how you would use it in your own AWS environment(s). This workshop is broken into two sections. The first section will guide you through a demonstration of the features and functions of Security Hub. The second section will show you how to use Security Hub to import findings from different data sources, analyze findings so you can prioritize response work, and implement responses to findings to help improve your security posture. Level : Intermediate Duration : 2 - 3 hours CSF Functions : Detect, Respond CAF Components : Detective, Responsive Prerequisites : AWS Account, Admin IAM User","title":"Overview"},{"location":"#scenario","text":"Your company is new to the cloud and is steadily migrating workloads into your cloud environment. To detect security events you are using a mix of 3rd party services, custom scripts, and AWS services. As a security analyst you are responsible for establishing a solution that will give visibility into security findings related to your AWS environment so that you can properly prioritize and respond to findings.","title":"Scenario"},{"location":"#architecture","text":"For this workshop there will be multiple pieces of infrastructure and AWS services deployed in order to faciliate creation of security findings in Security Hub. Multiple EC2 instances will be launched to faciliate the generation of findings from GuardDuty & Inspector. Additionally these instances will be used to help with demonstration of integration of custom findings into Security Hub. Multiple AWS services will be configured in the workshop to help faciliate the generation of Security Hub findings. These services include: * Security Hub * GuardDuty * Secrets Manager * Inspector * Config","title":"Architecture"},{"location":"#presentation-deck","text":"Security Hub Workshop Presentation","title":"Presentation deck"},{"location":"#region","text":"Please use eu-north-1, ap-south-1, eu-west-2, eu-west-1, ap-northeast-2, ap-northeast-1, ap-southeast-2, eu-central-1, us-east-1, us-east-2, us-west-1, or us-west-2.","title":"Region"},{"location":"#modules","text":"This workshop is broken up into setup and then four modules: Initial Environment Setup Security Hub Walk Through Custom Insights and Custom Findings Remediation and Response Custom Action Enrichment and Integration","title":"Modules"},{"location":"#contributing","text":"Your contributions are always welcome! Please have a look at the contribution guidelines first. :tada: (Back to top)","title":"Contributing"},{"location":"#license-summary","text":"The documentation is made available under the Creative Commons Attribution-ShareAlike 4.0 International License. See the LICENSE file. The sample code within this documentation is made available under the MIT-0 license. See the LICENSE-SAMPLECODE file. (Back to top)","title":"License Summary"},{"location":"00-environment-setup/","text":"Environment Setup This workshop's procedures use multiple Lambda functions, EC2 instances, and other AWS resources created via CloudFormation templates. In this module, you will copy the essential contents from the workshop GitHub repository and upload them into an S3 bucket in the AWS account you are using to perform the workshop. Agenda Download the workshop assets from GitHub - 5 min Create S3 bucket and store workshop assets \u2013 5 min Determine if have already enabled Security Hub, Config, and GuardDuty - 5 min Deploy workshop CloudFormation stack - 10 min Download the workshop assets from GitHub Navigate to https://github.com/aws-samples/aws-security-hub-workshop/blob/master/deploy/aws-security-hub-workshop-deploy.zip Click Download to download the aws-security-hub-workshop-deploy.zip file to your local computer in a location that you can easily find. Unzip the file on your local computer. This will unzip the files to a directory named deploy . Create S3 bucket and store workshop assets Navigate to S3 Console and click Create bucket . Provide your own bucket name and do not adjust the default settings blocking public access. S3 Bucket name needs to be unique. You might have to add some additional numbers to the end of your desired name to make it unique. Record the bucket name for later use. Click Create bucket . Click your bucket name to navigate into your bucket. From your local computer, upload the contents of the unzipped /deploy/ directory into the root of your newly created bucket. Do not proceed unless you have five(5) .zip files and five(5) .json files. Determine if you have enabled Security Hub, Config, and GuardDuty. Config, Security Hub, and GuardDuty must be enabled in the account and region you are conducting this workshop in. The CloudFormation template that sets up the workshop has the option to enable all of this for you. If you choose for that to happen, and these services are already enabled, the template will fail. In order to correctly perform the next step, you must confirm the status of each of these services. If you already know the status, such as a fresh account provided by AWS for this workshop, proceed to the next section. From the AWS Console click Services in the top left corner Type Security Hub in the services search bar. Select Security Hub from the list. If you see Go to Security Hub on the right side of the page, Security Hub is not enabled. Click Services in the top left corner. Type GuardDuty in the search bar, and select GuardDuty from the list. If you see Get started in the center of the page, GuardDuty is not enabled. Click Services in the top left corner. Type Config in the search bar, and select Config from the list. If you see Get started in the center of the page, Config is not enabled. Deploy workshop CloudFormation stack Navigate to CloudFormation Console . Click Create stack . In the Amazon S3 URL , add the path to your setup template. Replace [YOUR-BUCKET-NAME] in the example below. https://[YOUR-BUCKET-NAME].s3.amazonaws.com/sechub-workshop-setup-template.json Click Next on Create stack page. Provide your Stack name . In the Parameters section, select Yes (DO ENABLE) or No for each of the three services checked in the prior section; GuardDuty, SecurityHub, and Config. Enter the name of the S3 deployment bucket you created and stored the workshop artifacts in. Leave remaining parameters with their default value. Click Next on Specify stack details page. Click Next on Configure stack options page. Scroll to the bottom and check both acknowledgments. Click Create Stack . Use the refresh button to see updates as this template will create five nested templates and should take 5-10 minutes to complete. Once the full stack creation is done you should see findings created in Security Hub over next 30 minutes of this workshop. In this module, you created an S3 bucket, transferred the workshop artifacts, and deployed the setup templates. After you have successfully created the stack, you can proceed to the next module.","title":"Module 0: Environment Build"},{"location":"00-environment-setup/#environment-setup","text":"This workshop's procedures use multiple Lambda functions, EC2 instances, and other AWS resources created via CloudFormation templates. In this module, you will copy the essential contents from the workshop GitHub repository and upload them into an S3 bucket in the AWS account you are using to perform the workshop. Agenda Download the workshop assets from GitHub - 5 min Create S3 bucket and store workshop assets \u2013 5 min Determine if have already enabled Security Hub, Config, and GuardDuty - 5 min Deploy workshop CloudFormation stack - 10 min","title":"Environment Setup"},{"location":"00-environment-setup/#download-the-workshop-assets-from-github","text":"Navigate to https://github.com/aws-samples/aws-security-hub-workshop/blob/master/deploy/aws-security-hub-workshop-deploy.zip Click Download to download the aws-security-hub-workshop-deploy.zip file to your local computer in a location that you can easily find. Unzip the file on your local computer. This will unzip the files to a directory named deploy .","title":"Download the workshop assets from GitHub"},{"location":"00-environment-setup/#create-s3-bucket-and-store-workshop-assets","text":"Navigate to S3 Console and click Create bucket . Provide your own bucket name and do not adjust the default settings blocking public access. S3 Bucket name needs to be unique. You might have to add some additional numbers to the end of your desired name to make it unique. Record the bucket name for later use. Click Create bucket . Click your bucket name to navigate into your bucket. From your local computer, upload the contents of the unzipped /deploy/ directory into the root of your newly created bucket. Do not proceed unless you have five(5) .zip files and five(5) .json files.","title":"Create S3 bucket and store workshop assets"},{"location":"00-environment-setup/#determine-if-you-have-enabled-security-hub-config-and-guardduty","text":"Config, Security Hub, and GuardDuty must be enabled in the account and region you are conducting this workshop in. The CloudFormation template that sets up the workshop has the option to enable all of this for you. If you choose for that to happen, and these services are already enabled, the template will fail. In order to correctly perform the next step, you must confirm the status of each of these services. If you already know the status, such as a fresh account provided by AWS for this workshop, proceed to the next section. From the AWS Console click Services in the top left corner Type Security Hub in the services search bar. Select Security Hub from the list. If you see Go to Security Hub on the right side of the page, Security Hub is not enabled. Click Services in the top left corner. Type GuardDuty in the search bar, and select GuardDuty from the list. If you see Get started in the center of the page, GuardDuty is not enabled. Click Services in the top left corner. Type Config in the search bar, and select Config from the list. If you see Get started in the center of the page, Config is not enabled.","title":"Determine if you have enabled Security Hub, Config, and GuardDuty."},{"location":"00-environment-setup/#deploy-workshop-cloudformation-stack","text":"Navigate to CloudFormation Console . Click Create stack . In the Amazon S3 URL , add the path to your setup template. Replace [YOUR-BUCKET-NAME] in the example below. https://[YOUR-BUCKET-NAME].s3.amazonaws.com/sechub-workshop-setup-template.json Click Next on Create stack page. Provide your Stack name . In the Parameters section, select Yes (DO ENABLE) or No for each of the three services checked in the prior section; GuardDuty, SecurityHub, and Config. Enter the name of the S3 deployment bucket you created and stored the workshop artifacts in. Leave remaining parameters with their default value. Click Next on Specify stack details page. Click Next on Configure stack options page. Scroll to the bottom and check both acknowledgments. Click Create Stack . Use the refresh button to see updates as this template will create five nested templates and should take 5-10 minutes to complete. Once the full stack creation is done you should see findings created in Security Hub over next 30 minutes of this workshop. In this module, you created an S3 bucket, transferred the workshop artifacts, and deployed the setup templates. After you have successfully created the stack, you can proceed to the next module.","title":"Deploy workshop CloudFormation stack"},{"location":"01-security-hub-walk-through/","text":"Module 1: Security Hub Walkthrough In this section of the Security Hub Workshop, you will follow a guided demonstration of the features of Security Hub. You can use this demonstration to learn about Security Hub's capabilities. Agenda 20 minutes Summary Page Multi-Account Hierarchy Integrations Insights Explore Security Standards Security Hub Summary Page The Security Hub Summary page gives you an overview of security and compliance status of your AWS account(s). Some of the data in your account may differ from the screenshots and some maybe blank. From the AWS Console click Services in the top left corner Type Security Hub in the services search bar. Select Security Hub from the list. Click Summary on the left hand navigation. !! info \"Security Hub automatically enables subscriptions to GuardDuty and Inspector. Also collected, but not used in this workshop are findings from Macie, IAM Access Analyzer, and Firewall Manager.\" Observe the Passed and Failed status of the CIS AWS Foundations . Even though you just enabled it a few minutes ago, partial results of the 43 total checks have been collected. Refresh your browser to see the latest results. After you enable a security standard, AWS Security Hub begins to run the checks within 2 hours. After the initial check, the schedule for each control may be either periodic (12 hours) or change-triggered. Scroll down to the graphs under Insights (Your graphs maybe different). Move your mouse over New findings over time by provider and observe the 3 sources of findings that Security Hub is already collecting. (There will be more throughout this workshop) Scroll down further under Insights . Move your mouse over Accounts with the most findings (by resource type) and observe the sorted list of AWS resources that have findings to investigated. Multi Account Hierarchy You can invite other AWS accounts to enable AWS Security Hub and become associated with your AWS account. If the owner of the account that you invite enables Security Hub and then accepts the invitation, your account is designated as the master Security Hub account, and the invited accounts become associated as member accounts. When the invited account accepts the invitation, permission is granted to the master account to view the findings in the member account. The master account can also perform actions on findings in a member account. Security Hub supports up to 1000 member accounts per master, account per Region. The master-member account association is created in only the one Region that the invitation was sent from. You must enable Security Hub in each Region that you want to use it in, and then invite each account to associate as a member account in each Region. In this section we will add a member account to your Workshop Security Hub Account. These instructions use sample information and will not actually setup the Multi-Account Hierarchy. (Optional)You can invite another AWS account you are the owner of to enable AWS Security Hub and become associated with your Workshop AWS account. In the steps below, instead of false data use information for another you AWS account you own, you can accept the invitation, and you can enable Security Hub. Click Settings on the left hand navigation. Click + Add accounts in the above the empty account table. Enter 111122223333 (Four 1's, 2's, & 3's) in the Account ID field. Click Add Be sure to hit the tab key to get the Add button to enable. The email does not need to be the AWS account owner. The Add workflow allows you to add multiple member account invitations at a time. Click Next Click Invite in the Status field of the member accounts table. Click Invite . At this point a user with the appropriate permissions in the destination AWS account could accept this invite from the master account Integrations In this section, we will walk through the Security Hub side of enabling a partner integration. Security Hub provides the ability to integrate security findings from AWS services and third-party products. For third-party products Security Hub gives you the ability to selectively enable the integrations and give you access to the configuration instructions related to the third-party product. Security Hub detects and consolidates only those security findings from the supported AWS and partner product integrations that are generated after Security Hub is enabled in your AWS accounts. It doesn't retroactively detect and consolidate security findings that were generated before you enabled Security Hub. Click on Integrations from the left-hand navigation pane. Scroll through the list of available integrations. Return to the top and search for a SaaS based solution such as: Checkpoint: Dome9 Arc , Palo Alto Networks: Redlock , or Symantec: Cloud Workload Protect . Click Accept Findings . Review the permissions required for the integration. Click Accept findings . This will put in place a service policy allowing the partner solution to send findings information into this account. To use in your account, you would still need to complete the Configure step on the Partner solution so findings that are created by the partner solution are sent to Security Hub. Findings Security Hub imports findings AWS security services, third-party product integrations that you enable, and custom integrations you build. Security Hub consumes these findings using a standard findings format called AWS Security Finding Format (ASFF), which eliminates the need for time-consuming data conversion efforts. Security Hub then correlates the findings across integrated products to prioritize the most important ones. For more information about the findings format, see AWS Security Finding Format . Click on Findings from the left-hand navigation pane. Click in the Search bar and select Severity label and enter MEDIUM (it must be all capitalized). Click Apply . Select a Title of any finding to see more information. Click the arrow next to Resources on bottom right. Click the [+] to the right of this findings Resource Type (e.g. AwsS3Bucket). this will add it as a filter to the search. Insights A Security Hub Insight is a collection of related findings defined by an aggregation statement and optional filters. An insight identifies a security area that requires attention and intervention. Security Hub offers several managed (default) insights that you can't modify or delete. You can also create custom insights to track security issues unique to your AWS environment and usage. Click on Insights from the left-hand navigation pane. Filter for insight severity . Click on 24. Severity by counts of findings . The Group By: Resource Id in the filter is what makes this an Insight Select a Severity Label (e.g. Critical) to see the underlying finding(s). Security Standards Security Hub currently supports multiple security standards: Payment Card Industry Data Security Standard (PCI DSS) v3.2.1: The Payment Card Industry Data Security Standard (PCI DSS) standard in Security Hub consists of a set of AWS security best practices controls. Each control applies to a specific AWS resource, and relates to one or more PCI DSS version 3.2.1 requirements. A PCI DSS requirement can be related to multiple controls. The details page for each PCI DSS control lists the specific PCI DSS requirements that are related to that control.The PCI DSS Compliance Standard in Security Hub is designed to help you with your ongoing PCI DSS security activities. The controls cannot verify whether your systems are compliant with the PCI DSS standard. They can neither replace internal efforts nor guarantee that you will pass a PCI DSS assessment. AWS Foundational Security Best Practices v1.0.0: The AWS Foundational Security Best Practices standard is a set of controls that detect when your deployed accounts and resources deviate from security best practices. The controls include best practices from across multiple AWS services. Each control belongs to one of the following categories, which are based on the functions described in the NIST Cybersecurity Framework. Center for Internet Security (CIS) AWS Foundations v1.2.0: AWS Security Hub has satisfied the requirements of CIS Security Software Certification and is hereby awarded CIS Security Software Certification for the following CIS Benchmarks: CIS Benchmark for CIS Amazon Web Services Foundations Benchmark, v1.2.0, Level 1 and Level 2 To run the CIS AWS Foundations standard's compliance checks on your environment's resources, Security Hub either runs through the exact audit steps prescribed for the checks in Securing Amazon Web Services or uses specific AWS Config managed rules. Therefore, for the CIS AWS Foundations standard to be functional in Security Hub, when you enable it in a particular account, you must also enable AWS Config in that account. Security Hub doesn't manage AWS Config for you. For this workshop Config has already been enabled for you. The first round of compliance checks will be done within 2 hours of enabling security hub and then runs every 12 hours. Click on Security standards . !!! info \"Note the Security score should have changed from you first enabled the CIS standard. Click View Results for CIS AWS Foundations Benchmark v1.2.0. Filter on 4.1 . Click 4.1 Ensure no security groups allow ingress from 0.0.0.0/0 . Scroll down and you will notice there are some FAILED and some PASSED Select a FAILED Findings. Notice the definition of CIS 4.1. Click the Remediation , to open guidance in a new tab. AWS Security Hub Security Standards provide remediation guidance for each check. Now that you have explored Security Hub's capabilities, you can proceed to the next module.","title":"Module 1: Security Hub Walkthrough"},{"location":"01-security-hub-walk-through/#module-1-security-hub-walkthrough","text":"In this section of the Security Hub Workshop, you will follow a guided demonstration of the features of Security Hub. You can use this demonstration to learn about Security Hub's capabilities. Agenda 20 minutes Summary Page Multi-Account Hierarchy Integrations Insights Explore Security Standards","title":"Module 1: Security Hub Walkthrough"},{"location":"01-security-hub-walk-through/#security-hub-summary-page","text":"The Security Hub Summary page gives you an overview of security and compliance status of your AWS account(s). Some of the data in your account may differ from the screenshots and some maybe blank. From the AWS Console click Services in the top left corner Type Security Hub in the services search bar. Select Security Hub from the list. Click Summary on the left hand navigation. !! info \"Security Hub automatically enables subscriptions to GuardDuty and Inspector. Also collected, but not used in this workshop are findings from Macie, IAM Access Analyzer, and Firewall Manager.\" Observe the Passed and Failed status of the CIS AWS Foundations . Even though you just enabled it a few minutes ago, partial results of the 43 total checks have been collected. Refresh your browser to see the latest results. After you enable a security standard, AWS Security Hub begins to run the checks within 2 hours. After the initial check, the schedule for each control may be either periodic (12 hours) or change-triggered. Scroll down to the graphs under Insights (Your graphs maybe different). Move your mouse over New findings over time by provider and observe the 3 sources of findings that Security Hub is already collecting. (There will be more throughout this workshop) Scroll down further under Insights . Move your mouse over Accounts with the most findings (by resource type) and observe the sorted list of AWS resources that have findings to investigated.","title":"Security Hub Summary Page"},{"location":"01-security-hub-walk-through/#multi-account-hierarchy","text":"You can invite other AWS accounts to enable AWS Security Hub and become associated with your AWS account. If the owner of the account that you invite enables Security Hub and then accepts the invitation, your account is designated as the master Security Hub account, and the invited accounts become associated as member accounts. When the invited account accepts the invitation, permission is granted to the master account to view the findings in the member account. The master account can also perform actions on findings in a member account. Security Hub supports up to 1000 member accounts per master, account per Region. The master-member account association is created in only the one Region that the invitation was sent from. You must enable Security Hub in each Region that you want to use it in, and then invite each account to associate as a member account in each Region. In this section we will add a member account to your Workshop Security Hub Account. These instructions use sample information and will not actually setup the Multi-Account Hierarchy. (Optional)You can invite another AWS account you are the owner of to enable AWS Security Hub and become associated with your Workshop AWS account. In the steps below, instead of false data use information for another you AWS account you own, you can accept the invitation, and you can enable Security Hub. Click Settings on the left hand navigation. Click + Add accounts in the above the empty account table. Enter 111122223333 (Four 1's, 2's, & 3's) in the Account ID field. Click Add Be sure to hit the tab key to get the Add button to enable. The email does not need to be the AWS account owner. The Add workflow allows you to add multiple member account invitations at a time. Click Next Click Invite in the Status field of the member accounts table. Click Invite . At this point a user with the appropriate permissions in the destination AWS account could accept this invite from the master account","title":"Multi Account Hierarchy"},{"location":"01-security-hub-walk-through/#integrations","text":"In this section, we will walk through the Security Hub side of enabling a partner integration. Security Hub provides the ability to integrate security findings from AWS services and third-party products. For third-party products Security Hub gives you the ability to selectively enable the integrations and give you access to the configuration instructions related to the third-party product. Security Hub detects and consolidates only those security findings from the supported AWS and partner product integrations that are generated after Security Hub is enabled in your AWS accounts. It doesn't retroactively detect and consolidate security findings that were generated before you enabled Security Hub. Click on Integrations from the left-hand navigation pane. Scroll through the list of available integrations. Return to the top and search for a SaaS based solution such as: Checkpoint: Dome9 Arc , Palo Alto Networks: Redlock , or Symantec: Cloud Workload Protect . Click Accept Findings . Review the permissions required for the integration. Click Accept findings . This will put in place a service policy allowing the partner solution to send findings information into this account. To use in your account, you would still need to complete the Configure step on the Partner solution so findings that are created by the partner solution are sent to Security Hub.","title":"Integrations"},{"location":"01-security-hub-walk-through/#findings","text":"Security Hub imports findings AWS security services, third-party product integrations that you enable, and custom integrations you build. Security Hub consumes these findings using a standard findings format called AWS Security Finding Format (ASFF), which eliminates the need for time-consuming data conversion efforts. Security Hub then correlates the findings across integrated products to prioritize the most important ones. For more information about the findings format, see AWS Security Finding Format . Click on Findings from the left-hand navigation pane. Click in the Search bar and select Severity label and enter MEDIUM (it must be all capitalized). Click Apply . Select a Title of any finding to see more information. Click the arrow next to Resources on bottom right. Click the [+] to the right of this findings Resource Type (e.g. AwsS3Bucket). this will add it as a filter to the search.","title":"Findings"},{"location":"01-security-hub-walk-through/#insights","text":"A Security Hub Insight is a collection of related findings defined by an aggregation statement and optional filters. An insight identifies a security area that requires attention and intervention. Security Hub offers several managed (default) insights that you can't modify or delete. You can also create custom insights to track security issues unique to your AWS environment and usage. Click on Insights from the left-hand navigation pane. Filter for insight severity . Click on 24. Severity by counts of findings . The Group By: Resource Id in the filter is what makes this an Insight Select a Severity Label (e.g. Critical) to see the underlying finding(s).","title":"Insights"},{"location":"01-security-hub-walk-through/#security-standards","text":"Security Hub currently supports multiple security standards: Payment Card Industry Data Security Standard (PCI DSS) v3.2.1: The Payment Card Industry Data Security Standard (PCI DSS) standard in Security Hub consists of a set of AWS security best practices controls. Each control applies to a specific AWS resource, and relates to one or more PCI DSS version 3.2.1 requirements. A PCI DSS requirement can be related to multiple controls. The details page for each PCI DSS control lists the specific PCI DSS requirements that are related to that control.The PCI DSS Compliance Standard in Security Hub is designed to help you with your ongoing PCI DSS security activities. The controls cannot verify whether your systems are compliant with the PCI DSS standard. They can neither replace internal efforts nor guarantee that you will pass a PCI DSS assessment. AWS Foundational Security Best Practices v1.0.0: The AWS Foundational Security Best Practices standard is a set of controls that detect when your deployed accounts and resources deviate from security best practices. The controls include best practices from across multiple AWS services. Each control belongs to one of the following categories, which are based on the functions described in the NIST Cybersecurity Framework. Center for Internet Security (CIS) AWS Foundations v1.2.0: AWS Security Hub has satisfied the requirements of CIS Security Software Certification and is hereby awarded CIS Security Software Certification for the following CIS Benchmarks: CIS Benchmark for CIS Amazon Web Services Foundations Benchmark, v1.2.0, Level 1 and Level 2 To run the CIS AWS Foundations standard's compliance checks on your environment's resources, Security Hub either runs through the exact audit steps prescribed for the checks in Securing Amazon Web Services or uses specific AWS Config managed rules. Therefore, for the CIS AWS Foundations standard to be functional in Security Hub, when you enable it in a particular account, you must also enable AWS Config in that account. Security Hub doesn't manage AWS Config for you. For this workshop Config has already been enabled for you. The first round of compliance checks will be done within 2 hours of enabling security hub and then runs every 12 hours. Click on Security standards . !!! info \"Note the Security score should have changed from you first enabled the CIS standard. Click View Results for CIS AWS Foundations Benchmark v1.2.0. Filter on 4.1 . Click 4.1 Ensure no security groups allow ingress from 0.0.0.0/0 . Scroll down and you will notice there are some FAILED and some PASSED Select a FAILED Findings. Notice the definition of CIS 4.1. Click the Remediation , to open guidance in a new tab. AWS Security Hub Security Standards provide remediation guidance for each check. Now that you have explored Security Hub's capabilities, you can proceed to the next module.","title":"Security Standards"},{"location":"02-custom-insights-findings/","text":"Module 2: Custom Insights and Custom Findings A key feature of Security Hub is the ability to create security findings that are above and beyond the native integrations that Security Hub has with AWS services or 3rd party providers. This custom findings feature gives customers the flexibility to build their security checks against their AWS environment and import them into Security Hub. In the environment for this workshop, multiple sources that are sending custom findings into Security Hub: * The open-source Cloud Custodian project running on an EC2 instance. * A Config Rule checking for non-compliant AMIs. * A Lambda function looking for non-compliant secrets. This module will guide you on how to either view or fully integrate these findings sources into Security Hub. Agenda Create Custom Findings with AWS Config - 15 min Create Custom Insight for Custom Findings - 10 min Create Custom Findings with AWS Config In this section we will cover how you can create your own findings in Security Hub. The foundation for this section will be using AWS Config Rules to identify compliance violations and then posting those violations into Security Hub. This is a representation of the architecture you will be implementing: For this part of the workshop a Config rule has already been defined. The specific Config rule being used is approved-amis-by-id . This rule looks for EC2 instances backed by AMIs that are not in the rule's list of approved AMIs. Any EC2 instances that are not using an AMI that is in the approved list will be reported by the rule as noncompliant. Create EventBridge Rule This section creates the rule which will catch messages sent from Config rules about noncompliant resources and route them to a target. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. All Config Rule output is sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Config . Choose Config Rules Compliance Change for the Event Type . Chose the Specific rule name(s) radio button and enter approved-amis-by-id in the text box. Under Select targets, ensure Lambda function is populated in the top drop down and then select ec2-non-compliant-ami-sechub lambda function. ec2-non-compliant-ami-sechub is a custom Lambda function created during the setup of this workshop. Feel free to look at the function to learn more about how it integrates with Security Hub. Click Create . Create a rule to track approved AMIs This section will run the config rule to generate information on noncompliant resources and send them to Security Hub. Navigate to the AWS Config dashboard From the Config Dashboard click Rules on the left menu. !!! Make sure to not choose Rules from the Aggregated view menu. This requires Config Aggregator and this feature is not used in this workshop. In the Rules page there will be one rule named approved-amis-by-id . Click on the rule name to go to the detail page for that rule. In the rule detail screen you will see the rule configured with a list of approved AMIs. There will also be one resource showing as noncompliant. Now that the EventBridge is in place you want to see the noncompliant instances show in Security Hub as a finding. Click on the Delete results button. In the confirmation popup click Delete . Click on the refresh button in the Choose resources in scope section. The noncompliant resource section should now be empty. Click the Re-evaluate button. You will get a message that the Config rule is in use and that you need to refresh the page. At this point you can either refresh the entire page in your browser or use the refresh button in the Choose resources in scope section of the page. An instance should now be showing as noncompliant in the Choose resources in scope section. This re-run of the config rule will trigger the EventBridge rule that is looking for noncompliant resources, resulting in the finding showing in Security Hub. !!!Clearing results and re-evaluating the config rule is being done to help force sending findings into Security Hub for this workshop. Under normal circumstances you will not need manually run the config rule in order to get findings to show in Security Hub. Once you have the Config and EventBridge rules configured, new noncompliant resources will automatically flow into Security Hub as a config rule finds noncompliant resources. View the noncompliant AMI finding in Security Hub Navigate to the Security Hub dashboard. Click on the Findings option in the left-hand navigate menu. You should see a rule towards the top of the findings list with a Company of Personal and a Title about an unapproved AMI for an instance. This is the result of your compliance rule and its integration with EventBridge. Click on the Title link for the finding to view more details for your finding. You now have setup in place that helps demonstrate how you can send custom findings into Security Hub using AWS data sources and EventBridge rules. !!!In your environment the Lambda function find-secrets-without-rotation checks for secrets that have a rotation time that is beyond the max days parameter on the function. When secrets are found with a rotation time beyond what is defined in the function a finding is created in Security Hub. Take some time to explore the Lambda function to see how you can directly send custom findings into Security Hub. Create Custom Insights for Custom Findings This section will walk you through how to create a custom insight to give you more visibility around the sources that are sending findings into Security Hub for custom findings. When a custom finding is sent into Security Hub it will have a company of Personal and a product of Default . Unlike integrations from AWS services and approved 3rd parties, you cannot use the Company and/or Product fields to determine the source of your finding for custom findings. However, Security Hub provides the ability to create insights that filter on more attributes than you can see from the initial findings console. You can filter on additional attributes that are passed in as part of a finding that enable you to get more granular in how you filter findings. For this lab the custom findings have been built to utilize the Generator ID field in the AWS Security Finding Format (ASFF) to help in identifying sources of findings. Navigate to the Security Hub dashboard. Choose Insights from the left hand navigation. Click Create insight . Click in the filter field at the top to add additinal filters. Choose a filter field of Company name . Choose a filter match type of EQUALS and a value of Personal . Choose a filter field of Product name . Choose a filter match type of EQUALS and a value of Default . Choose a Grouping of Group by: . In the list of options choose Generator ID . Click on Create insight to save your custom insight. Give your insight a name that is meaningful to you and click Create insight . Refresh your browser to reload the screen with Graphs. You now have a custom insight that allows you to get more visibility around custom findings that are coming into Security Hub, allowing you more visibility into what your security findings are related to, what the source of the findings are, and where you should prioritize your remediation efforts. For the findings in this custom insight you can click on the resource ID links to drill into the specific findings related to those resources. Feel free to play with the grouping for your insight to see other attributes that you can group by and the different views of data it creates.","title":"Module 2: Custom Insights & Findings"},{"location":"02-custom-insights-findings/#module-2-custom-insights-and-custom-findings","text":"A key feature of Security Hub is the ability to create security findings that are above and beyond the native integrations that Security Hub has with AWS services or 3rd party providers. This custom findings feature gives customers the flexibility to build their security checks against their AWS environment and import them into Security Hub. In the environment for this workshop, multiple sources that are sending custom findings into Security Hub: * The open-source Cloud Custodian project running on an EC2 instance. * A Config Rule checking for non-compliant AMIs. * A Lambda function looking for non-compliant secrets. This module will guide you on how to either view or fully integrate these findings sources into Security Hub. Agenda Create Custom Findings with AWS Config - 15 min Create Custom Insight for Custom Findings - 10 min","title":"Module 2: Custom Insights and Custom Findings"},{"location":"02-custom-insights-findings/#create-custom-findings-with-aws-config","text":"In this section we will cover how you can create your own findings in Security Hub. The foundation for this section will be using AWS Config Rules to identify compliance violations and then posting those violations into Security Hub. This is a representation of the architecture you will be implementing: For this part of the workshop a Config rule has already been defined. The specific Config rule being used is approved-amis-by-id . This rule looks for EC2 instances backed by AMIs that are not in the rule's list of approved AMIs. Any EC2 instances that are not using an AMI that is in the approved list will be reported by the rule as noncompliant.","title":"Create Custom Findings with AWS Config"},{"location":"02-custom-insights-findings/#create-eventbridge-rule","text":"This section creates the rule which will catch messages sent from Config rules about noncompliant resources and route them to a target. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. All Config Rule output is sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Config . Choose Config Rules Compliance Change for the Event Type . Chose the Specific rule name(s) radio button and enter approved-amis-by-id in the text box. Under Select targets, ensure Lambda function is populated in the top drop down and then select ec2-non-compliant-ami-sechub lambda function. ec2-non-compliant-ami-sechub is a custom Lambda function created during the setup of this workshop. Feel free to look at the function to learn more about how it integrates with Security Hub. Click Create .","title":"Create EventBridge Rule"},{"location":"02-custom-insights-findings/#create-a-rule-to-track-approved-amis","text":"This section will run the config rule to generate information on noncompliant resources and send them to Security Hub. Navigate to the AWS Config dashboard From the Config Dashboard click Rules on the left menu. !!! Make sure to not choose Rules from the Aggregated view menu. This requires Config Aggregator and this feature is not used in this workshop. In the Rules page there will be one rule named approved-amis-by-id . Click on the rule name to go to the detail page for that rule. In the rule detail screen you will see the rule configured with a list of approved AMIs. There will also be one resource showing as noncompliant. Now that the EventBridge is in place you want to see the noncompliant instances show in Security Hub as a finding. Click on the Delete results button. In the confirmation popup click Delete . Click on the refresh button in the Choose resources in scope section. The noncompliant resource section should now be empty. Click the Re-evaluate button. You will get a message that the Config rule is in use and that you need to refresh the page. At this point you can either refresh the entire page in your browser or use the refresh button in the Choose resources in scope section of the page. An instance should now be showing as noncompliant in the Choose resources in scope section. This re-run of the config rule will trigger the EventBridge rule that is looking for noncompliant resources, resulting in the finding showing in Security Hub. !!!Clearing results and re-evaluating the config rule is being done to help force sending findings into Security Hub for this workshop. Under normal circumstances you will not need manually run the config rule in order to get findings to show in Security Hub. Once you have the Config and EventBridge rules configured, new noncompliant resources will automatically flow into Security Hub as a config rule finds noncompliant resources.","title":"Create a rule to track approved AMIs"},{"location":"02-custom-insights-findings/#view-the-noncompliant-ami-finding-in-security-hub","text":"Navigate to the Security Hub dashboard. Click on the Findings option in the left-hand navigate menu. You should see a rule towards the top of the findings list with a Company of Personal and a Title about an unapproved AMI for an instance. This is the result of your compliance rule and its integration with EventBridge. Click on the Title link for the finding to view more details for your finding. You now have setup in place that helps demonstrate how you can send custom findings into Security Hub using AWS data sources and EventBridge rules. !!!In your environment the Lambda function find-secrets-without-rotation checks for secrets that have a rotation time that is beyond the max days parameter on the function. When secrets are found with a rotation time beyond what is defined in the function a finding is created in Security Hub. Take some time to explore the Lambda function to see how you can directly send custom findings into Security Hub.","title":"View the noncompliant AMI finding in Security Hub"},{"location":"02-custom-insights-findings/#create-custom-insights-for-custom-findings","text":"This section will walk you through how to create a custom insight to give you more visibility around the sources that are sending findings into Security Hub for custom findings. When a custom finding is sent into Security Hub it will have a company of Personal and a product of Default . Unlike integrations from AWS services and approved 3rd parties, you cannot use the Company and/or Product fields to determine the source of your finding for custom findings. However, Security Hub provides the ability to create insights that filter on more attributes than you can see from the initial findings console. You can filter on additional attributes that are passed in as part of a finding that enable you to get more granular in how you filter findings. For this lab the custom findings have been built to utilize the Generator ID field in the AWS Security Finding Format (ASFF) to help in identifying sources of findings. Navigate to the Security Hub dashboard. Choose Insights from the left hand navigation. Click Create insight . Click in the filter field at the top to add additinal filters. Choose a filter field of Company name . Choose a filter match type of EQUALS and a value of Personal . Choose a filter field of Product name . Choose a filter match type of EQUALS and a value of Default . Choose a Grouping of Group by: . In the list of options choose Generator ID . Click on Create insight to save your custom insight. Give your insight a name that is meaningful to you and click Create insight . Refresh your browser to reload the screen with Graphs. You now have a custom insight that allows you to get more visibility around custom findings that are coming into Security Hub, allowing you more visibility into what your security findings are related to, what the source of the findings are, and where you should prioritize your remediation efforts. For the findings in this custom insight you can click on the resource ID links to drill into the specific findings related to those resources. Feel free to play with the grouping for your insight to see other attributes that you can group by and the different views of data it creates.","title":"Create Custom Insights for Custom Findings"},{"location":"03-remediation-and-response/","text":"Module 3: Remediation and Response CIS Benchmark and Custom Action In the first half of this module, you will connect a Security Hub custom action to a provided Lambda function. This function isolates an EC2 instance from the VPC network when invoked. In the second half, you will deploy the auto remediation and response actions. Agenda Create a Security Hub Custom Action to Isolate an EC2 Instance \u2013 10 min Deploy remediation playbooks for CIS Benchmarks - 15 min Create a Security Hub Custom Action to Isolate an EC2 Instance This guide will show you how to create a custom action in Security Hub and then tie that to an EventBridge rule which calls a lambda function to change the security group on an EC2 instance that is part of a Security Hub finding. Create a Custom Action in Security Hub Navigate to the Security Hub console. In the left-hand navigation pane choose Settings . Choose the Custom actions tab. Click the Create custom action button. Enter an Action Name, Action Description, and an Action ID that are representative of an action that would isolate an EC2 instance. Click Create custom action . Copy the Custom action ARN that was generated for your custom finding. You will need the Custom ARN in the next steps. Create Amazon EventBridge Rule to capture the Custom Action Events from AWS services are delivered to CloudWatch Events and Amazon EventBridge in near real time. You can write simple rules to indicate which events you're interested in and what automated actions to take when an event matches a rule. The actions that can be automatically triggered include: an AWS Lambda function, Amazon EC2 Run Command, Relaying the event to Amazon Kinesis Data Streams, an AWS Step Functions state machine, an Amazon SNS topic, a ECS task, and others. In this section, you will define an EventBridge rule that will match events (Findings) coming from Security Hub which were forwarded by the custom action you defined above. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. All Security Hub findings are sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/IsolateInstance\" ] } Under Select targets, ensure Lambda function is populated in the top drop down and then select isolate-ec2-security-group lambda function. isolate-ec2-security-groups is a custom Lambda function created during the setup of this workshop. Click Create . Isolate the security group on an EC2 Instance Now you will test the response action starting from a Security Finding for an EC2 instance. Navigate to the Security Hub Dashboard. In the left-hand navigation pane choose Findings . Add a filter for Resource Type and enter AwsEc2Instance (case sensitive) AwsEc2Instance Click the title of any finding in this filtered list where the target is the type AwsEc2Instance . Expand Resources section of the finding. Click the blue link for this EC2 instance, under the heading Resource ID . This will open a new tab showing on the EC2 console showing only this affected EC2 instance. In the Description tab for the instance record the name of the current security group . Go back to your Security Hub tab in your browser and click in the check box in the far left of this same finding. In the Actions drop down choose the name of your custom action to Isolate EC2 Instances. Go back to the EC2 browser tab . Refresh the tab. Verify that the security group on the instance has been changed to the security team security group. Review the isolate-ec2-security-group lambda function. What changes would you make for your own custom actions? Deploy remediation playbooks for CIS Benchmarks By creating Security Hub custom actions mapped to specific finding type and by developing a corresponding Lambda function for that custom action, you can achieve targeted, automated remediation for these findings. This allows you to decide if you want to invoke a remediation action on a specific finding. You can also use these Lambda functions as the target of fully automated remediation actions that do not require any human review. You can read more in this blog to select specific CIS benchmark remediations or customize response actions. Deploy remediation playbooks via CloudFormation Download CloudFormation template from GitHub. !!! info \"If you are not familiar with github downloads: 1. Click RAW 2. Save As... from your browser. Some browsers will require you to add .yaml at the end of the file name. Navigate to Cloudformation Stacks console. Choose Create stack and then With new resources (standard) . Click Upload a template file Click Choose file and select \"SecurityHub_CISPlaybooks_CloudFormation.yaml\" that you downloaded in the previous step. Click Next . provide a Stack name , for example SecurityHub-CISPlaybooks . Click Next . Click Next . scroll to the bottom and check the box for I acknowledge that AWS CloudFormation might create IAM resources. Click Create stack . !!! info \u201cPlease wait a moment for the creation to complete or progress to start, then proceed to Step 11.\u201d Navigate to the Resources tab of this CloudFormation stack and observe the resources created for each rule. Type \" CIS28 \" in Search resources bar. !!! info \"Note the resources created for this remediation action are a EventBridge Rule that connects the custom action to the Lambda function, an IAM role and permission for Lambda to assume and take the needed actions, A Lambda function with the code to execute the response, and a Security Hub custom action to initiate the remediation. Navigate to the Security Hub dashboard. In the left-hand navigation pane choose Security Standards . Under CIS AWS Foundations Benchmark v1.2.0 click View results . Type \" 2.8 \" in the Filter controls bar. !!! info \"AWS KMS enables customers to rotate the backing key, which is key material stored in AWS KMS and is tied to the key ID of the CMK. It's the backing key that is used to perform cryptographic operations such as encryption and decryption. Automated key rotation currently retains all previous backing keys so that decryption of encrypted data can take place transparently. We recommend that you enable CMK key rotation. Rotating encryption keys helps reduce the potential impact of a compromised key because data encrypted with a new key can't be accessed with a previous key that might have been exposed. \" Click the title for \"CIS 2.8 Ensure rotation for customer created CMKs is enabled\" Observe that two checks have a status of Failed Click the check box to select the finding where the target Resource Type is AwsKmsKey . Click the Actions drop down on the right side and select CIS 2.8 RR . Notice the list of available actions you have for CIS created from the template deployment. Choosing this action sends a copy of the finding(s) to EventBridge. The findings then trigger a matching rule in EventBridge which then initiates a Lambda. The Lambda function enables key rotation on the KMS keys that are covered by the key(s) that were selected when the Security Hub custom action was chosen. After the green bar has confirmed the execution of the custom check, we need to manually initiate a re-evaluation in config in order to resolve the finding in Security Hub. Click the title on the same finding to expand the details on the right. Click the button for Rule(s) . Select \"securityhub-cmk-backing-key-rotation-enabled-#####\" to view the Config rule implemented via Security Hub. Click Re-evaluate at the top of the page. Click the browser tab to return to the filtered findings for CIS 2.8 and refresh your browser. The findings should now have a status of PASSED. In this module you associated a custom action in Security Hub with a custom Lambda function for remediation and deployed a series of pre-build remediations for CIS Account Foundational checks. After you have successfully tested your response to CIS 2.8, you can proceed to the next module.","title":"Module 3: Remediation & Response"},{"location":"03-remediation-and-response/#module-3-remediation-and-response-cis-benchmark-and-custom-action","text":"In the first half of this module, you will connect a Security Hub custom action to a provided Lambda function. This function isolates an EC2 instance from the VPC network when invoked. In the second half, you will deploy the auto remediation and response actions. Agenda Create a Security Hub Custom Action to Isolate an EC2 Instance \u2013 10 min Deploy remediation playbooks for CIS Benchmarks - 15 min","title":"Module 3: Remediation and Response CIS Benchmark and Custom Action"},{"location":"03-remediation-and-response/#create-a-security-hub-custom-action-to-isolate-an-ec2-instance","text":"This guide will show you how to create a custom action in Security Hub and then tie that to an EventBridge rule which calls a lambda function to change the security group on an EC2 instance that is part of a Security Hub finding.","title":"Create a Security Hub Custom Action to Isolate an EC2 Instance"},{"location":"03-remediation-and-response/#create-a-custom-action-in-security-hub","text":"Navigate to the Security Hub console. In the left-hand navigation pane choose Settings . Choose the Custom actions tab. Click the Create custom action button. Enter an Action Name, Action Description, and an Action ID that are representative of an action that would isolate an EC2 instance. Click Create custom action . Copy the Custom action ARN that was generated for your custom finding. You will need the Custom ARN in the next steps.","title":"Create a Custom Action in Security Hub"},{"location":"03-remediation-and-response/#create-amazon-eventbridge-rule-to-capture-the-custom-action","text":"Events from AWS services are delivered to CloudWatch Events and Amazon EventBridge in near real time. You can write simple rules to indicate which events you're interested in and what automated actions to take when an event matches a rule. The actions that can be automatically triggered include: an AWS Lambda function, Amazon EC2 Run Command, Relaying the event to Amazon Kinesis Data Streams, an AWS Step Functions state machine, an Amazon SNS topic, a ECS task, and others. In this section, you will define an EventBridge rule that will match events (Findings) coming from Security Hub which were forwarded by the custom action you defined above. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. All Security Hub findings are sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/IsolateInstance\" ] } Under Select targets, ensure Lambda function is populated in the top drop down and then select isolate-ec2-security-group lambda function. isolate-ec2-security-groups is a custom Lambda function created during the setup of this workshop. Click Create .","title":"Create Amazon EventBridge Rule to capture the Custom Action"},{"location":"03-remediation-and-response/#isolate-the-security-group-on-an-ec2-instance","text":"Now you will test the response action starting from a Security Finding for an EC2 instance. Navigate to the Security Hub Dashboard. In the left-hand navigation pane choose Findings . Add a filter for Resource Type and enter AwsEc2Instance (case sensitive) AwsEc2Instance Click the title of any finding in this filtered list where the target is the type AwsEc2Instance . Expand Resources section of the finding. Click the blue link for this EC2 instance, under the heading Resource ID . This will open a new tab showing on the EC2 console showing only this affected EC2 instance. In the Description tab for the instance record the name of the current security group . Go back to your Security Hub tab in your browser and click in the check box in the far left of this same finding. In the Actions drop down choose the name of your custom action to Isolate EC2 Instances. Go back to the EC2 browser tab . Refresh the tab. Verify that the security group on the instance has been changed to the security team security group. Review the isolate-ec2-security-group lambda function. What changes would you make for your own custom actions?","title":"Isolate the security group on an EC2 Instance"},{"location":"03-remediation-and-response/#deploy-remediation-playbooks-for-cis-benchmarks","text":"By creating Security Hub custom actions mapped to specific finding type and by developing a corresponding Lambda function for that custom action, you can achieve targeted, automated remediation for these findings. This allows you to decide if you want to invoke a remediation action on a specific finding. You can also use these Lambda functions as the target of fully automated remediation actions that do not require any human review. You can read more in this blog to select specific CIS benchmark remediations or customize response actions.","title":"Deploy remediation playbooks for CIS Benchmarks"},{"location":"03-remediation-and-response/#deploy-remediation-playbooks-via-cloudformation","text":"Download CloudFormation template from GitHub. !!! info \"If you are not familiar with github downloads: 1. Click RAW 2. Save As... from your browser. Some browsers will require you to add .yaml at the end of the file name. Navigate to Cloudformation Stacks console. Choose Create stack and then With new resources (standard) . Click Upload a template file Click Choose file and select \"SecurityHub_CISPlaybooks_CloudFormation.yaml\" that you downloaded in the previous step. Click Next . provide a Stack name , for example SecurityHub-CISPlaybooks . Click Next . Click Next . scroll to the bottom and check the box for I acknowledge that AWS CloudFormation might create IAM resources. Click Create stack . !!! info \u201cPlease wait a moment for the creation to complete or progress to start, then proceed to Step 11.\u201d Navigate to the Resources tab of this CloudFormation stack and observe the resources created for each rule. Type \" CIS28 \" in Search resources bar. !!! info \"Note the resources created for this remediation action are a EventBridge Rule that connects the custom action to the Lambda function, an IAM role and permission for Lambda to assume and take the needed actions, A Lambda function with the code to execute the response, and a Security Hub custom action to initiate the remediation. Navigate to the Security Hub dashboard. In the left-hand navigation pane choose Security Standards . Under CIS AWS Foundations Benchmark v1.2.0 click View results . Type \" 2.8 \" in the Filter controls bar. !!! info \"AWS KMS enables customers to rotate the backing key, which is key material stored in AWS KMS and is tied to the key ID of the CMK. It's the backing key that is used to perform cryptographic operations such as encryption and decryption. Automated key rotation currently retains all previous backing keys so that decryption of encrypted data can take place transparently. We recommend that you enable CMK key rotation. Rotating encryption keys helps reduce the potential impact of a compromised key because data encrypted with a new key can't be accessed with a previous key that might have been exposed. \" Click the title for \"CIS 2.8 Ensure rotation for customer created CMKs is enabled\" Observe that two checks have a status of Failed Click the check box to select the finding where the target Resource Type is AwsKmsKey . Click the Actions drop down on the right side and select CIS 2.8 RR . Notice the list of available actions you have for CIS created from the template deployment. Choosing this action sends a copy of the finding(s) to EventBridge. The findings then trigger a matching rule in EventBridge which then initiates a Lambda. The Lambda function enables key rotation on the KMS keys that are covered by the key(s) that were selected when the Security Hub custom action was chosen. After the green bar has confirmed the execution of the custom check, we need to manually initiate a re-evaluation in config in order to resolve the finding in Security Hub. Click the title on the same finding to expand the details on the right. Click the button for Rule(s) . Select \"securityhub-cmk-backing-key-rotation-enabled-#####\" to view the Config rule implemented via Security Hub. Click Re-evaluate at the top of the page. Click the browser tab to return to the filtered findings for CIS 2.8 and refresh your browser. The findings should now have a status of PASSED. In this module you associated a custom action in Security Hub with a custom Lambda function for remediation and deployed a series of pre-build remediations for CIS Account Foundational checks. After you have successfully tested your response to CIS 2.8, you can proceed to the next module.","title":"Deploy remediation playbooks via CloudFormation"},{"location":"04-enrichment-and-integration/","text":"Module 4: Finding Enrichment and Integration In this module you will explore two patterns to respond to findings via a notification workflow. In the first section, you will setup a custom action to post Security Hub findings into a Slack channel. In the second section, you will use a custom action to look up and add EC2 tags to findings as a custom note. Agenda Custom Action to Send Findings to Slack \u2013 20 min Enable Custom Action to add Tag data as Notes to Security Hub Findings - 10 min Custom Action to Send Findings to Slack In this section we will setup a custom action that will send the details of a Security Hub Finding to a lambda function that will format the message and then post into our demo Slack security channel. A more automated workflow could also be created where all, or a filtered set of, Security Hub findings could be sent to slack. Once the setup is complete, the finding data will flow from left to right in the below diagram. However, the setup steps themselves must be completed in the numbered order to accommodate required dependencies. Setup Slack Use the following link to create a new Slack Workspace for yourself: https://get.slack.help/hc/en-us/articles/206845317-Create-a-Slack-workspace After completing these steps, you should have a slack workspace with a name you used to create it. Keep this information handy. Create a channel to receive security hub alerts When you created the slack workspace, you would have typed in something under \u201cWhat is your Company doing?\u201d. This sets up a default channel on Slack. You can choose to use this to receive Security Hub findings or create a new channel. If you want to create a new channel click on the + next to 'Channels' and create a new channel. Create Custom Action in Security Hub To send information on findings that are in Security Hub to Slack a custom action in Security Hub needs to be defined. The following steps outline how to set up a custom action: Go to Security Hub Console: https://console.aws.amazon.com/securityhub/ Click on Settings . Click Custom Actions . Select Create Custom Action. Fill in: Action Name as \u2018Send to Slack\u2019, Description as \u2018Custom action to send security findings to Slack.\u2019 Custom Action ID as shslaction Click Create custom action . Create a EventBridge Rule for Security Hub Custom Actions to Lambda Taking action on a finding in Security Hub results in the information for the finding and the ARN of the custom action being sent to EventBridge. To successfully process this action, a EventBridge rule needs to be defined so the action information can be sent to Slack. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. !! info \"All Security Hub findings are sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear.\" Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/shslaction\" ] } Under Select targets, select Lambda function . Then select the sechub-to-slack lambda function. Click Create . Update the Lambda Function to send messages to Slack The last step in this setup is to update the environment variables of your lambda function so that notifications can be sent to the correct Slack workspace. Navigate to the Lambda console. In the list of functions choose the sechub-to-slack function. Scroll down to environment variables and click Edit Fill in: slackChannel: the value from the Slack channel you created earlier in this workshop. webHookUrl: URL of the webhook for the Slack setup you created earlier in this workshop. Click Save . Testing the Integration between Security Hub and Slack At this point, you are now able to start using a Security Hub custom action to send Findings to Slack. Go to Security Hub Console: https://console.aws.amazon.com/securityhub Click on Findings option, and the Findings screen will show a list of all your open Security Hub findings. Choose any one of the findings and then select the Send to Slack custom action from the Actions drop down. A success message appears indicating the event was sent to CloudWatch events. Your custom actions drop down list will have more options than displayed here. In Slack , navigate to your channel to see the finding that was sent from Security Hub. Enable Custom Action to add Tag data as Notes to Security Hub Findings In this section you will follow the same pattern of creating a Security Hub custom action and EventBridge rule to Lambda. The custom Lambda function will look up the tags for an EC2 instance, and the resulting tag information will be added to the selected Security Hub finding as a note. Create Security Hub Custom Action Navigate to the Security Hub dashboard . In the left-hand navigation pane choose Settings . Choose the Custom actions tab. Click the Create custom action button. Enter an Action Name (Displayed in the Security Hub Console), Action Description , and an Action ID of \"getTags\". Click Create custom action . Copy the Custom action ARN that was generated for your custom finding. You will need the custom action ARN in the next steps. Create a EventBridge Rule to capture Security Hub Custom action Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/getTags\" ] } Under Select targets, ensure Lambda function is populated in the top drop down and then select enrich-sec-hub-finding lambda function. Click Create . Test your enrichment rule Navigate to the Security Hub Dashboard . In the left-hand navigation pane choose Findings . Click in the search space to Add filters , and find Resource Type . Add AwsEc2Instance (case sensitive) after EQUALS and click Apply . AwsEc2Instance Click the Title of the first finding in the list and observe that there are currently no notes in this finding. Click the check box to the left of this same finding. Click the Actions down arrow and select your new custom action (Get Tag Information) to add tags to the notes of this finding. Refresh your browser. Click the Title of the first finding again, and this time view the Notes. What other data would you add to findings ad-hoc or automatically? How would you edit the EventBridge rule to have the enrich function run every time a new finding is created, instead of manually initiated? In this module you explored two possible methods to improve operational response time to Security Hub findings by receiving a finding in Slack and by adding customized context to a finding.","title":"Module 4: Enrichment & Integration"},{"location":"04-enrichment-and-integration/#module-4-finding-enrichment-and-integration","text":"In this module you will explore two patterns to respond to findings via a notification workflow. In the first section, you will setup a custom action to post Security Hub findings into a Slack channel. In the second section, you will use a custom action to look up and add EC2 tags to findings as a custom note. Agenda Custom Action to Send Findings to Slack \u2013 20 min Enable Custom Action to add Tag data as Notes to Security Hub Findings - 10 min","title":"Module 4: Finding Enrichment and Integration"},{"location":"04-enrichment-and-integration/#custom-action-to-send-findings-to-slack","text":"In this section we will setup a custom action that will send the details of a Security Hub Finding to a lambda function that will format the message and then post into our demo Slack security channel. A more automated workflow could also be created where all, or a filtered set of, Security Hub findings could be sent to slack. Once the setup is complete, the finding data will flow from left to right in the below diagram. However, the setup steps themselves must be completed in the numbered order to accommodate required dependencies.","title":"Custom Action to Send Findings to Slack"},{"location":"04-enrichment-and-integration/#setup-slack","text":"Use the following link to create a new Slack Workspace for yourself: https://get.slack.help/hc/en-us/articles/206845317-Create-a-Slack-workspace After completing these steps, you should have a slack workspace with a name you used to create it. Keep this information handy.","title":"Setup Slack"},{"location":"04-enrichment-and-integration/#create-a-channel-to-receive-security-hub-alerts","text":"When you created the slack workspace, you would have typed in something under \u201cWhat is your Company doing?\u201d. This sets up a default channel on Slack. You can choose to use this to receive Security Hub findings or create a new channel. If you want to create a new channel click on the + next to 'Channels' and create a new channel.","title":"Create a channel to receive security hub alerts"},{"location":"04-enrichment-and-integration/#create-custom-action-in-security-hub","text":"To send information on findings that are in Security Hub to Slack a custom action in Security Hub needs to be defined. The following steps outline how to set up a custom action: Go to Security Hub Console: https://console.aws.amazon.com/securityhub/ Click on Settings . Click Custom Actions . Select Create Custom Action. Fill in: Action Name as \u2018Send to Slack\u2019, Description as \u2018Custom action to send security findings to Slack.\u2019 Custom Action ID as shslaction Click Create custom action .","title":"Create Custom Action in Security Hub"},{"location":"04-enrichment-and-integration/#create-a-eventbridge-rule-for-security-hub-custom-actions-to-lambda","text":"Taking action on a finding in Security Hub results in the information for the finding and the ARN of the custom action being sent to EventBridge. To successfully process this action, a EventBridge rule needs to be defined so the action information can be sent to Slack. Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. !! info \"All Security Hub findings are sent as events to the AWS default event bus. The define pattern section allows you to identify filters to take a specific action when matched events appear.\" Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/shslaction\" ] } Under Select targets, select Lambda function . Then select the sechub-to-slack lambda function. Click Create .","title":"Create a EventBridge Rule for Security Hub Custom Actions to Lambda"},{"location":"04-enrichment-and-integration/#update-the-lambda-function-to-send-messages-to-slack","text":"The last step in this setup is to update the environment variables of your lambda function so that notifications can be sent to the correct Slack workspace. Navigate to the Lambda console. In the list of functions choose the sechub-to-slack function. Scroll down to environment variables and click Edit Fill in: slackChannel: the value from the Slack channel you created earlier in this workshop. webHookUrl: URL of the webhook for the Slack setup you created earlier in this workshop. Click Save .","title":"Update the Lambda Function to send messages to Slack"},{"location":"04-enrichment-and-integration/#testing-the-integration-between-security-hub-and-slack","text":"At this point, you are now able to start using a Security Hub custom action to send Findings to Slack. Go to Security Hub Console: https://console.aws.amazon.com/securityhub Click on Findings option, and the Findings screen will show a list of all your open Security Hub findings. Choose any one of the findings and then select the Send to Slack custom action from the Actions drop down. A success message appears indicating the event was sent to CloudWatch events. Your custom actions drop down list will have more options than displayed here. In Slack , navigate to your channel to see the finding that was sent from Security Hub.","title":"Testing the Integration between Security Hub and Slack"},{"location":"04-enrichment-and-integration/#enable-custom-action-to-add-tag-data-as-notes-to-security-hub-findings","text":"In this section you will follow the same pattern of creating a Security Hub custom action and EventBridge rule to Lambda. The custom Lambda function will look up the tags for an EC2 instance, and the resulting tag information will be added to the selected Security Hub finding as a note.","title":"Enable Custom Action to add Tag data as Notes to Security Hub Findings"},{"location":"04-enrichment-and-integration/#create-security-hub-custom-action","text":"Navigate to the Security Hub dashboard . In the left-hand navigation pane choose Settings . Choose the Custom actions tab. Click the Create custom action button. Enter an Action Name (Displayed in the Security Hub Console), Action Description , and an Action ID of \"getTags\". Click Create custom action . Copy the Custom action ARN that was generated for your custom finding. You will need the custom action ARN in the next steps.","title":"Create Security Hub Custom Action"},{"location":"04-enrichment-and-integration/#create-a-eventbridge-rule-to-capture-security-hub-custom-action","text":"Navigate to the Amazon EventBridge Console. Click on the Create rule on the right side. In the Create rule page give your rule a name and a description that represents the rule's purpose. Under Define pattern, select Event pattern . Select Pre-defined pattern by service . In the drop down for Service Provider , select AWS . In the drop down for Service Name , select or type and select Security Hub . In the drop down for Event type choose Security Hub Finding \u2013 Custom Action . In the Event Pattern window click the Edit button. Add in the resources line as shown below, making sure to copy in the ARN of your Custom Event . Click Save . Note the comma after the bracket before the resources definition. Copy and paste in the custom event pattern below. Use the ARN you recorded for your Security Hub Custom Action { \"source\" : [ \"aws.securityhub\" ], \"detail-type\" : [ \"Security Hub Findings - Custom Action\" ], \"resources\" : [ \"arn:aws:securityhub:us-east-1:[YOUR-ACCOUNT-ID]:action/custom/getTags\" ] } Under Select targets, ensure Lambda function is populated in the top drop down and then select enrich-sec-hub-finding lambda function. Click Create .","title":"Create a EventBridge Rule to capture Security Hub Custom action"},{"location":"04-enrichment-and-integration/#test-your-enrichment-rule","text":"Navigate to the Security Hub Dashboard . In the left-hand navigation pane choose Findings . Click in the search space to Add filters , and find Resource Type . Add AwsEc2Instance (case sensitive) after EQUALS and click Apply . AwsEc2Instance Click the Title of the first finding in the list and observe that there are currently no notes in this finding. Click the check box to the left of this same finding. Click the Actions down arrow and select your new custom action (Get Tag Information) to add tags to the notes of this finding. Refresh your browser. Click the Title of the first finding again, and this time view the Notes. What other data would you add to findings ad-hoc or automatically? How would you edit the EventBridge rule to have the enrich function run every time a new finding is created, instead of manually initiated? In this module you explored two possible methods to improve operational response time to Security Hub findings by receiving a finding in Slack and by adding customized context to a finding.","title":"Test your enrichment rule"},{"location":"LICENSE-SAMPLECODE/","text":"License MIT License Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved. Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"LICENSE-SAMPLECODE/#license","text":"MIT License Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved. Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"License"},{"location":"contribute/","text":"Contributing Guidelines Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community. Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution. Reporting Bugs/Feature Requests We welcome you to use the GitHub issue tracker to report bugs or suggest features. When filing an issue, please check existing open , or recently closed , issues to make sure somebody else hasn't already reported the issue. Please try to include as much information as you can. Details like these are incredibly useful: A reproducible test case or series of steps The version of our code being used Any modifications you've made relevant to the bug Anything unusual about your environment or deployment Contributing via Pull Requests Contributions via pull requests are much appreciated. Before sending us a pull request, please ensure that: You are working against the latest source on the master branch. You check existing open, and recently merged, pull requests to make sure someone else hasn't addressed the problem already. You open an issue to discuss any significant work - we would hate for your time to be wasted. To send us a pull request, please: Fork the repository. Modify the source; please focus on the specific change you are contributing. If you also reformat all the code, it will be hard for us to focus on your change. Ensure local tests pass. Commit to your fork using clear commit messages. Send us a pull request, answering any default questions in the pull request interface. Pay attention to any automated CI failures reported in the pull request, and stay involved in the conversation. GitHub provides additional document on forking a repository and creating a pull request . Finding contributions to work on Looking at the existing issues is a great way to find something to contribute on. As our projects, by default, use the default GitHub issue labels ((enhancement/bug/duplicate/help wanted/invalid/question/wontfix), looking at any 'help wanted' issues is a great place to start. Code of Conduct This project has adopted the Amazon Open Source Code of Conduct . For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments. Security issue notifications If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our vulnerability reporting page . Please do not create a public github issue. Licensing See the LICENSE file for our project's licensing. We will ask you to confirm the licensing of your contribution. We may ask you to sign a Contributor License Agreement (CLA) for larger changes.","title":"Contributing"},{"location":"contribute/#contributing-guidelines","text":"Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community. Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution.","title":"Contributing Guidelines"},{"location":"contribute/#reporting-bugsfeature-requests","text":"We welcome you to use the GitHub issue tracker to report bugs or suggest features. When filing an issue, please check existing open , or recently closed , issues to make sure somebody else hasn't already reported the issue. Please try to include as much information as you can. Details like these are incredibly useful: A reproducible test case or series of steps The version of our code being used Any modifications you've made relevant to the bug Anything unusual about your environment or deployment","title":"Reporting Bugs/Feature Requests"},{"location":"contribute/#contributing-via-pull-requests","text":"Contributions via pull requests are much appreciated. Before sending us a pull request, please ensure that: You are working against the latest source on the master branch. You check existing open, and recently merged, pull requests to make sure someone else hasn't addressed the problem already. You open an issue to discuss any significant work - we would hate for your time to be wasted. To send us a pull request, please: Fork the repository. Modify the source; please focus on the specific change you are contributing. If you also reformat all the code, it will be hard for us to focus on your change. Ensure local tests pass. Commit to your fork using clear commit messages. Send us a pull request, answering any default questions in the pull request interface. Pay attention to any automated CI failures reported in the pull request, and stay involved in the conversation. GitHub provides additional document on forking a repository and creating a pull request .","title":"Contributing via Pull Requests"},{"location":"contribute/#finding-contributions-to-work-on","text":"Looking at the existing issues is a great way to find something to contribute on. As our projects, by default, use the default GitHub issue labels ((enhancement/bug/duplicate/help wanted/invalid/question/wontfix), looking at any 'help wanted' issues is a great place to start.","title":"Finding contributions to work on"},{"location":"contribute/#code-of-conduct","text":"This project has adopted the Amazon Open Source Code of Conduct . For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments.","title":"Code of Conduct"},{"location":"contribute/#security-issue-notifications","text":"If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our vulnerability reporting page . Please do not create a public github issue.","title":"Security issue notifications"},{"location":"contribute/#licensing","text":"See the LICENSE file for our project's licensing. We will ask you to confirm the licensing of your contribution. We may ask you to sign a Contributor License Agreement (CLA) for larger changes.","title":"Licensing"}]}